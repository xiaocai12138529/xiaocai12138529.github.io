{"version":3,"sources":["webpack:///./src/api/article.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/core-js/internals/array-from.js","webpack:///./src/views/article/comment.vue?90ad","webpack:///./node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./src/views/article/article.vue?c98a","webpack:///./src/views/article/article.vue?024d","webpack:///./src/views/article/comment.vue?c638","webpack:///./src/api/comment.js","webpack:///src/views/article/comment.vue","webpack:///./src/views/article/comment.vue?9342","webpack:///./src/views/article/comment.vue","webpack:///src/views/article/article.vue","webpack:///./src/views/article/article.vue?4690","webpack:///./src/views/article/article.vue","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["getArticles","channel_id","timestamp","request","url","params","disLike","target","method","data","reports","type","getArticlesDetails","article","setConcern","unConcern","getComment","source","offset","_arrayLikeToArray","arr","len","length","i","arr2","Array","_arrayWithoutHoles","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","from","_unsupportedIterableToArray","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","test","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","bind","toObject","callWithSafeIterationClosing","isArrayIteratorMethod","toLength","createProperty","getIteratorMethod","module","exports","arrayLike","result","step","next","value","O","C","this","argumentsLength","arguments","mapfn","undefined","mapping","iteratorMethod","index","done","anObject","iteratorClose","fn","ENTRIES","error","$","checkCorrectnessOfIteration","INCORRECT_ITERATION","iterable","stat","forced","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$router","back","_e","is404","_v","_s","title","aut_photo","aut_name","_f","pubdate","toggleConcern","is_followed","class","content_hidden","isShow","domProps","content","directives","rawName","expression","isShowArticle","push","staticRenderFns","finished","onLoad","model","callback","$$v","loading","_l","item","key","com_id","staticStyle","slot","is_liking","hToggleLike","commentShow","hShowCommentArea","total_count","modifiers","ref","hBlur","$forceUpdate","composing","commentText","trim","hAddComment","addComment","articleId","art_id","addCommentLike","commentId","deleteCommentLike","list","methods","setTimeout","$nextTick","component","components","Comment","created","getarticles","isObject","toAbsoluteIndex","toIndexedObject","wellKnownSymbol","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","SPECIES","nativeSlice","max","Math","proto","start","end","Constructor","k","fin"],"mappings":"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","file":"js/article.86032045.js","sourcesContent":["import request from '@/utils/request.js'\r\n// eslint-disable-next-line camelcase\r\nexport const getArticles = (channel_id, timestamp) => {\r\n  // 如果函数没有写return\r\n  // 他有一个默认的return的值undefined\r\n  return request({\r\n    url: '/v1_0/articles',\r\n    params: {\r\n      channel_id,\r\n      timestamp\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n *\r\n * @param {对文章不喜欢} target 文章id\r\n * @returns\r\n */\r\nexport const disLike = target => {\r\n  return request({\r\n    url: '/v1_0/article/dislikes',\r\n    method: 'POST',\r\n    data: {\r\n      target\r\n    }\r\n  })\r\n}\r\nexport const reports = (target, type) => {\r\n  return request({\r\n    url: '/v1_0/article/reports',\r\n    method: 'POST',\r\n    data: {\r\n      target,\r\n      type\r\n    }\r\n  })\r\n}\r\n\r\n// 获取文章详情\r\nexport const getArticlesDetails = (article) => {\r\n  return request({\r\n    url: 'v1_0/articles/' + article\r\n\r\n  })\r\n}\r\n\r\n// 关注\r\nexport const setConcern = (target) => {\r\n  return request({\r\n    method: 'POST',\r\n    url: '/v1_0/user/followings',\r\n    data: {\r\n      target\r\n    }\r\n  })\r\n}\r\nexport const unConcern = (target) => {\r\n  return request({\r\n    url: '/v1_0/user/followings/' + target,\r\n    method: 'DELETE'\r\n\r\n  })\r\n}\r\n\r\n// 获取评论\r\n\r\nexport const getComment = (source, offset) => {\r\n  return request({\r\n    url: '/v1_0/comments',\r\n    method: 'GET',\r\n    params: {\r\n      type: 'a',\r\n      source,\r\n      offset\r\n    }\r\n  })\r\n}\r\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.es/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment.vue?vue&type=style&index=0&id=81b9b4f0&scoped=true&lang=less&\"","var anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  } catch (error) {\n    iteratorClose(iterator);\n    throw error;\n  }\n};\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  // eslint-disable-next-line es/no-array-from -- required for testing\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.es/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./article.vue?vue&type=style&index=0&id=be54fb7e&scoped=true&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article-container\",attrs:{\"id\":\"xxx\"}},[_c('van-nav-bar',{attrs:{\"fixed\":\"\",\"left-arrow\":\"\",\"title\":\"文章详情\"},on:{\"click-left\":function($event){return _vm.$router.back()}}}),(_vm.loading)?_c('van-loading',{staticClass:\"article-loading\"}):_vm._e(),(!_vm.is404)?_c('div',{staticClass:\"detail\"},[_c('h1',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.article.title))]),_c('div',{staticClass:\"author\"},[_c('van-image',{attrs:{\"round\":\"\",\"width\":\"1rem\",\"height\":\"1rem\",\"fit\":\"fill\",\"src\":_vm.article.aut_photo}}),_c('div',{staticClass:\"text\"},[_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.article.aut_name))]),_c('p',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"relativeTime\")(_vm.article.pubdate)))])]),_c('van-button',{attrs:{\"round\":\"\",\"size\":\"small\",\"type\":\"info\"},on:{\"click\":function($event){return _vm.toggleConcern()}}},[_vm._v(_vm._s(_vm.article.is_followed ? \"已关注\" : \" +关注\"))])],1),_c('div',{staticClass:\"content\"},[_c('div',{class:{ content_hidden: _vm.isShow },domProps:{\"innerHTML\":_vm._s(_vm.article.content)}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],staticClass:\"bg-gradient\"},[_c('p',{on:{\"click\":_vm.isShowArticle}},[_vm._v(\"显示更多 \"),_c('van-icon',{attrs:{\"name\":\"arrow-down\"}})],1)])]),_c('van-divider',[_vm._v(\"猜你喜欢\")]),_c('div',{staticClass:\"zan\"},[_c('van-button',{attrs:{\"round\":\"\",\"size\":\"small\",\"hairline\":\"\",\"type\":\"primary\",\"plain\":\"\",\"icon\":\"good-job-o\"}},[_vm._v(\"点赞\")]),_vm._v(\"      \"),_c('van-button',{attrs:{\"round\":\"\",\"size\":\"small\",\"hairline\":\"\",\"type\":\"danger\",\"plain\":\"\",\"icon\":\"delete\"}},[_vm._v(\"不喜欢\")])],1)],1):_vm._e(),(_vm.is404)?_c('div',{staticClass:\"error\"},[_c('p',[_vm._v(\"文章被外星人吃掉了\")]),_c('van-button',{on:{\"click\":function($event){return _vm.$router.back()}}},[_vm._v(\"后退\")]),_c('van-button',{on:{\"click\":function($event){return _vm.$router.push('/')}}},[_vm._v(\"回主页\")])],1):_vm._e(),(!_vm.is404)?_c('comment'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article-comments\",attrs:{\"id\":\"top\"}},[_c('div',{attrs:{\"id\":\"chatContainer\"}}),_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item){return _c('van-cell',{key:item.com_id},[_c('van-image',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"slot\":\"icon\",\"round\":\"\",\"width\":\"30\",\"height\":\"30\",\"src\":item.aut_photo},slot:\"icon\"}),_c('span',{staticStyle:{\"color\":\"#466b9d\"},attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(item.aut_name))]),_c('div',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('p',{staticStyle:{\"color\":\"#363636\"}},[_vm._v(_vm._s(item.content))]),_c('p',[_c('span',{staticStyle:{\"margin-right\":\"10px\"}},[_vm._v(_vm._s(_vm._f(\"relativeTime\")(item.pubdate)))])])]),_c('van-icon',{attrs:{\"slot\":\"right-icon\",\"name\":item.is_liking ? 'like' : 'like-o'},on:{\"click\":function($event){return _vm.hToggleLike(item)}},slot:\"right-icon\"})],1)}),1),_c('div',{class:_vm.commentShow ? 'art-cmt-container-1' : 'art-cmt-container-2'},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.commentShow),expression:\"commentShow\"}],staticClass:\"add-cmt-box van-hairline--top\"},[_c('van-icon',{attrs:{\"name\":\"arrow-left\",\"size\":\"24px\"},on:{\"click\":function($event){return _vm.$router.back()}}}),_c('div',{staticClass:\"ipt-cmt-div\",on:{\"click\":_vm.hShowCommentArea}},[_vm._v(\"发表评论\")]),_c('div',{staticClass:\"icon-box\"},[_c('van-badge',{attrs:{\"content\":_vm.total_count,\"max\":\"99\"}},[_c('van-icon',{attrs:{\"name\":\"comment-o\",\"size\":\"24px\"}})],1),_c('van-icon',{attrs:{\"name\":\"star-o\",\"size\":\"24px\"}}),_c('van-icon',{attrs:{\"name\":\"share-o\",\"size\":\"24px\"}})],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.commentShow),expression:\"!commentShow\"}],staticClass:\"cmt-box van-hairline--top\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.commentText),expression:\"commentText\",modifiers:{\"trim\":true}}],ref:\"txt\",attrs:{\"placeholder\":\"友善评论、理性发言、阳光心灵\"},domProps:{\"value\":(_vm.commentText)},on:{\"blur\":[_vm.hBlur,function($event){return _vm.$forceUpdate()}],\"input\":function($event){if($event.target.composing){ return; }_vm.commentText=$event.target.value.trim()}}}),_c('van-button',{attrs:{\"type\":\"default\"},on:{\"click\":_vm.hAddComment}},[_vm._v(\" 发布\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/utils/request.js'\r\n\r\nexport const addComment = (articleId, content) => {\r\n  return request({\r\n    method: 'POST',\r\n    url: 'v1_0/comments',\r\n    data: {\r\n      target: articleId,\r\n      art_id: articleId,\r\n      content\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * 对文章评论进行点赞\r\n * @param {*} commentId 评论id\r\n */\r\nexport const addCommentLike = commentId => {\r\n  return request({\r\n    method: 'POST',\r\n    url: 'v1_0/comment/likings',\r\n    data: {\r\n      target: commentId\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * 取消文章评论的点赞\r\n * @param {*} commentId 评论id\r\n */\r\nexport const deleteCommentLike = commentId => {\r\n  return request({\r\n    method: 'DELETE',\r\n    url: 'v1_0/comment/likings/' + commentId\r\n  })\r\n}\r\n","<template>\r\n  <div class=\"article-comments\" id=\"top\">\r\n    <!-- 评论列表 -->\r\n    <div id=\"chatContainer\"></div>\r\n\r\n    <van-list\r\n      v-model=\"loading\"\r\n      :finished=\"finished\"\r\n      finished-text=\"没有更多了\"\r\n      @load=\"onLoad\"\r\n    >\r\n      <van-cell v-for=\"item in list\" :key=\"item.com_id\">\r\n        <van-image\r\n          slot=\"icon\"\r\n          round\r\n          width=\"30\"\r\n          height=\"30\"\r\n          style=\"margin-right: 10px\"\r\n          :src=\"item.aut_photo\"\r\n        />\r\n        <span style=\"color: #466b9d\" slot=\"title\">{{ item.aut_name }}</span>\r\n        <div slot=\"label\">\r\n          <p style=\"color: #363636\">{{ item.content }}</p>\r\n          <p>\r\n            <span style=\"margin-right: 10px\">{{\r\n              item.pubdate | relativeTime\r\n            }}</span>\r\n          </p>\r\n        </div>\r\n        <van-icon\r\n          slot=\"right-icon\"\r\n          :name=\"item.is_liking ? 'like' : 'like-o'\"\r\n          @click=\"hToggleLike(item)\"\r\n        />\r\n      </van-cell>\r\n    </van-list>\r\n    <!-- 评论列表 -->\r\n    <!-- 发布评论 -->\r\n\r\n    <div :class=\"commentShow ? 'art-cmt-container-1' : 'art-cmt-container-2'\">\r\n      <!-- 底部添加评论区域 - 1 -->\r\n      <div class=\"add-cmt-box van-hairline--top\" v-show=\"commentShow\">\r\n        <van-icon name=\"arrow-left\" size=\"24px\" @click=\"$router.back()\" />\r\n        <div class=\"ipt-cmt-div\" @click=\"hShowCommentArea\">发表评论</div>\r\n        <div class=\"icon-box\">\r\n          <van-badge :content=\"total_count\" max=\"99\">\r\n            <van-icon name=\"comment-o\" size=\"24px\" />\r\n          </van-badge>\r\n          <van-icon name=\"star-o\" size=\"24px\" />\r\n          <van-icon name=\"share-o\" size=\"24px\" />\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 底部添加评论区域 - 2 -->\r\n      <div class=\"cmt-box van-hairline--top\" v-show=\"!commentShow\">\r\n        <textarea\r\n          placeholder=\"友善评论、理性发言、阳光心灵\"\r\n          v-model.trim=\"commentText\"\r\n          ref=\"txt\"\r\n          @blur=\"hBlur\"\r\n        ></textarea>\r\n        <van-button type=\"default\" @click=\"hAddComment\"> 发布</van-button>\r\n      </div>\r\n    </div>\r\n    <!-- /发布评论 -->\r\n    <!-- 文件上传 -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getComment } from '@/api/article.js'\r\nimport { addComment, addCommentLike, deleteCommentLike } from '@/api/comment.js'\r\nexport default {\r\n  name: 'ArticleComment',\r\n  data () {\r\n    return {\r\n      commentText: '',\r\n      commentShow: true,\r\n      offset: null,\r\n      total_count: 0,\r\n      list: [], // 评论列表\r\n      loading: false, // 上拉加载更多的 loading\r\n      finished: false // 是否加载结束\r\n    }\r\n  },\r\n  methods: {\r\n    // 用户喜欢/取消喜欢评论\r\n    async hToggleLike (item) {\r\n      try {\r\n        const isLike = item.is_liking\r\n        const commentId = item.com_id\r\n        if (!isLike) {\r\n          addCommentLike(commentId)\r\n          this.$toast.success('点赞成功')\r\n        } else {\r\n          deleteCommentLike(commentId)\r\n          this.$toast.success('取消点赞成功')\r\n        }\r\n        item.is_liking = !isLike\r\n      } catch (err) {\r\n        this.$toast.fail('操作失败')\r\n      }\r\n    },\r\n    // 点击发布\r\n    async hAddComment () {\r\n      try {\r\n        const res = await addComment(this.$route.params.id, this.commentText)\r\n        const obj = res.data.data.new_obj\r\n        // eslint-disable-next-line no-undef\r\n        obj.is_liking = false\r\n        this.list.unshift(obj)\r\n        // this.$el.querySelector('#chatContainer').scrollIntoView({\r\n        //   behavior: 'smooth', // 平滑过渡\r\n        //   block: 'start' // 上边框与视窗顶部平齐。默认值\r\n        // })\r\n        const hit = this.$el.offsetTop\r\n        this.$el.querySelector('#chatContainer').parentNode.parentNode.scroll({\r\n          top: hit - 100,\r\n          left: 0,\r\n          behavior: 'smooth'\r\n        })\r\n        this.total_count = this.total_count + 1\r\n        this.commentText = ''\r\n      } catch (err) {\r\n        console.log(err)\r\n      }\r\n    },\r\n    // 评论框失去焦点事件\r\n    hBlur () {\r\n      setTimeout(() => {\r\n        this.commentShow = true\r\n      })\r\n    },\r\n    // 评论状态切换\r\n    hShowCommentArea () {\r\n      this.commentShow = false // 通知视图 等会儿 去更新\r\n      this.$nextTick(() => {\r\n        this.$refs.txt.focus()\r\n      })\r\n    },\r\n    async onLoad () {\r\n      const res = await getComment(this.$route.params.id, this.offset)\r\n      this.total_count = res.data.data.total_count\r\n      const arr = res.data.data.results\r\n      this.list.push(...arr)\r\n      console.log(res)\r\n      // 加载状态结束\r\n      this.loading = false\r\n      // 数据全部加载完成\r\n\r\n      if (arr.length < 10) {\r\n        this.finished = true\r\n        return\r\n      }\r\n      if (this.offset !== res.data.data.last_id) {\r\n        this.offset = res.data.data.last_id\r\n      }\r\n      // 5. 更新offset\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n// 发表评论的区域是固定在下端的\r\n.publish-wrap {\r\n  position: fixed;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n}\r\n// 给发表评论区空出地方\r\n.van-list {\r\n  margin-bottom: 45px;\r\n}\r\n\r\n/*美化 - 文章详情 - 底部的发布评论-样式 */\r\n// 外层容器\r\n.art-cmt-container-1 {\r\n  padding-bottom: 46px;\r\n}\r\n.art-cmt-container-2 {\r\n  padding-bottom: 80px;\r\n}\r\n\r\n// 发布评论的盒子 - 1\r\n.add-cmt-box {\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  background-color: white;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  height: 46px;\r\n  line-height: 46px;\r\n  padding-left: 10px;\r\n  .ipt-cmt-div {\r\n    flex: 1;\r\n    border: 1px solid #efefef;\r\n    border-radius: 15px;\r\n    height: 30px;\r\n    font-size: 12px;\r\n    line-height: 30px;\r\n    padding-left: 15px;\r\n    margin-left: 10px;\r\n    background-color: #f8f8f8;\r\n  }\r\n  .icon-box {\r\n    width: 40%;\r\n    display: flex;\r\n    justify-content: space-evenly;\r\n    line-height: 0;\r\n  }\r\n}\r\n\r\n.child {\r\n  width: 20px;\r\n  height: 20px;\r\n  background: #f2f3f5;\r\n}\r\n\r\n// 发布评论的盒子 - 2\r\n.cmt-box {\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 80px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-size: 12px;\r\n  padding-left: 10px;\r\n  box-sizing: border-box;\r\n  background-color: white;\r\n  textarea {\r\n    flex: 1;\r\n    height: 66%;\r\n    border: 1px solid #efefef;\r\n    background-color: #f8f8f8;\r\n    resize: none;\r\n    border-radius: 6px;\r\n    padding: 5px;\r\n  }\r\n  .van-button {\r\n    height: 100%;\r\n    border: none;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comment.vue?vue&type=template&id=81b9b4f0&scoped=true&\"\nimport script from \"./comment.vue?vue&type=script&lang=js&\"\nexport * from \"./comment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comment.vue?vue&type=style&index=0&id=81b9b4f0&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"81b9b4f0\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"article-container\" id=\"xxx\">\r\n    <!-- 导航栏 -->\r\n    <van-nav-bar\r\n      fixed\r\n      left-arrow\r\n      @click-left=\"$router.back()\"\r\n      title=\"文章详情\"\r\n    ></van-nav-bar>\r\n    <!-- /导航栏 -->\r\n\r\n    <!-- 加载中 loading -->\r\n    <van-loading v-if=\"loading\" class=\"article-loading\" />\r\n    <!-- /加载中 loading -->\r\n    <!-- 文章详情 -->\r\n    <div class=\"detail\" v-if=\"!is404\">\r\n      <!-- 标题 -->\r\n      <h1 class=\"title\">{{ article.title }}</h1>\r\n      <div class=\"author\">\r\n        <!-- 头像 -->\r\n        <van-image\r\n          round\r\n          width=\"1rem\"\r\n          height=\"1rem\"\r\n          fit=\"fill\"\r\n          :src=\"article.aut_photo\"\r\n        />\r\n        <div class=\"text\">\r\n          <!-- 作者 -->\r\n          <p class=\"name\">{{ article.aut_name }}</p>\r\n          <!-- 发布时间 -->\r\n          <p class=\"time\">{{ article.pubdate | relativeTime }}</p>\r\n        </div>\r\n        <!-- 点击关注 -->\r\n        <van-button round size=\"small\" type=\"info\" @click=\"toggleConcern()\">{{\r\n          article.is_followed ? \"已关注\" : \" +关注\"\r\n        }}</van-button>\r\n      </div>\r\n      <div class=\"content\">\r\n        <!-- 主体内容显示区域 -->\r\n        <div :class=\"{ content_hidden: isShow }\" v-html=\"article.content\"></div>\r\n        <div class=\"bg-gradient\" v-show=\"isShow\">\r\n          <p @click=\"isShowArticle\">显示更多 <van-icon name=\"arrow-down\" /></p>\r\n        </div>\r\n      </div>\r\n\r\n      <van-divider>猜你喜欢</van-divider>\r\n      <div class=\"zan\">\r\n        <van-button\r\n          round\r\n          size=\"small\"\r\n          hairline\r\n          type=\"primary\"\r\n          plain\r\n          icon=\"good-job-o\"\r\n          >点赞</van-button\r\n        >\r\n        &nbsp;&nbsp;&nbsp;&nbsp;\r\n        <van-button\r\n          round\r\n          size=\"small\"\r\n          hairline\r\n          type=\"danger\"\r\n          plain\r\n          icon=\"delete\"\r\n          >不喜欢</van-button\r\n        >\r\n      </div>\r\n    </div>\r\n    <!-- /文章详情 -->\r\n    <div class=\"error\" v-if=\"is404\">\r\n      <p>文章被外星人吃掉了</p>\r\n      <van-button @click=\"$router.back()\">后退</van-button>\r\n      <van-button @click=\"$router.push('/')\">回主页</van-button>\r\n    </div>\r\n    <!-- 评论 -->\r\n\r\n    <comment v-if=\"!is404\"></comment>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getArticlesDetails, setConcern, unConcern } from '@/api/article.js'\r\nimport Comment from './comment.vue'\r\nexport default {\r\n  name: 'ArticleIndex',\r\n  data () {\r\n    return {\r\n      loading: true, // 控制加载中的 loading 状态\r\n      article: {},\r\n      isShow: true,\r\n      is404: false\r\n    }\r\n  },\r\n  components: {\r\n    Comment\r\n  },\r\n  created () {\r\n    this.getarticles()\r\n  },\r\n  methods: {\r\n\r\n    // 获取文章详情\r\n    async getarticles () {\r\n      try {\r\n        this.loading = true\r\n        const res = await getArticlesDetails(this.$route.params.id)\r\n        this.article = res.data.data\r\n        console.log(res)\r\n        this.loading = false\r\n        this.$toast('获取成功')\r\n      } catch (err) {\r\n        this.loading = false\r\n        if (err.response.status === 404) {\r\n          this.is404 = true\r\n        }\r\n      }\r\n    },\r\n    // 点击显示更多文章\r\n    isShowArticle () {\r\n      this.isShow = false\r\n    },\r\n    // 关注\r\n    async toggleConcern () {\r\n      // eslint-disable-next-line camelcase\r\n      const { is_followed: isFollowed, aut_id: autId } = this.article\r\n      try {\r\n        if (!isFollowed) {\r\n          const res = await setConcern(autId)\r\n          console.log(res)\r\n          this.$toast.success('加关成功')\r\n          // 修改页面的状态\r\n          this.article.is_followed = true\r\n        } else {\r\n          const res = await unConcern(autId)\r\n          console.log(res)\r\n          this.$toast.success('取关成功')\r\n          // 修改页面的状态\r\n          this.article.is_followed = false\r\n        }\r\n      } catch (err) {\r\n        console.dir(err)\r\n        if (err.response.status === 400) { this.$toast.fail('不能关注自己') }\r\n        if (err.response.status === 401) { this.$toast.fail('请先登录') }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n/deep/ .van-nav-bar .van-icon {\r\n  color: #fff;\r\n}\r\n.article-container {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  overflow-y: scroll;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.article-loading {\r\n  padding-top: 100px;\r\n  text-align: center;\r\n}\r\n.error {\r\n  padding-top: 100px;\r\n  text-align: center;\r\n}\r\n.detail {\r\n  padding: 50px 10px;\r\n  .title {\r\n    font-size: 25px;\r\n  }\r\n  .zan {\r\n    text-align: center;\r\n  }\r\n  .author {\r\n    padding: 10px 0;\r\n    display: flex;\r\n    .text {\r\n      flex: 1;\r\n      padding-left: 10px;\r\n      line-height: 1.3;\r\n      .name {\r\n        font-size: 14px;\r\n        margin: 0;\r\n      }\r\n      .time {\r\n        margin: 0;\r\n        font-size: 12px;\r\n        color: #999;\r\n      }\r\n    }\r\n  }\r\n  .content {\r\n    position: relative;\r\n\r\n    font-size: 14px;\r\n    overflow: hidden;\r\n    white-space: pre-wrap;\r\n    word-break: break-all;\r\n    .content_hidden {\r\n      height: 300px;\r\n    }\r\n    /deep/ img {\r\n      max-width: 100%;\r\n      background: #f9f9f9;\r\n    }\r\n  }\r\n  .bg-gradient {\r\n    position: absolute;\r\n    bottom: 0px;\r\n    left: 0;\r\n    background: linear-gradient(\r\n      to top,\r\n      rgba(255, 255, 255),\r\n      rgba(255, 255, 255, 0.3)\r\n    );\r\n    height: 100px;\r\n    width: 100%;\r\n    p {\r\n      line-height: 125px;\r\n      text-align: center;\r\n      color: rgba(100, 100, 100);\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./article.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./article.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./article.vue?vue&type=template&id=be54fb7e&scoped=true&\"\nimport script from \"./article.vue?vue&type=script&lang=js&\"\nexport * from \"./article.vue?vue&type=script&lang=js&\"\nimport style0 from \"./article.vue?vue&type=style&index=0&id=be54fb7e&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"be54fb7e\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}