(function(e){function t(t){for(var r,a,c=t[0],i=t[1],s=t[2],l=0,f=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);d&&d(t);while(f.length)f.shift()();return u.push.apply(u,s||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(u.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o={app:0},u=[];function c(e){return i.p+"js/"+({about:"about",article:"article",chat:"chat",profile:"profile",result:"result"}[e]||e)+"."+{about:"ed5869a6",article:"86032045",chat:"4230dc0a","chunk-2b2a6d97":"32c1f5f0","chunk-2d0b33fa":"c2be15fa","chunk-553792f6":"f0b1d07c","chunk-7d2ad950":"463ea6ed",profile:"ebc16ca2",result:"3383d820"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={about:1,article:1,chat:1,"chunk-2b2a6d97":1,"chunk-553792f6":1,"chunk-7d2ad950":1,profile:1,result:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({about:"about",article:"article",chat:"chat",profile:"profile",result:"result"}[e]||e)+"."+{about:"d6b6dff2",article:"121a0f19",chat:"451cc440","chunk-2b2a6d97":"54d51150","chunk-2d0b33fa":"31d6cfe0","chunk-553792f6":"dd334110","chunk-7d2ad950":"295a91f6",profile:"612ab57e",result:"de35c5ed"}[e]+".css",o=i.p+r,u=document.getElementsByTagName("link"),c=0;c<u.length;c++){var s=u[c],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===o))return t()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){s=f[c],l=s.getAttribute("data-href");if(l===r||l===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||o,u=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=r,delete a[e],d.parentNode.removeChild(d),n(u)},d.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var u=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=u);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=c(e);var f=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",f.name="ChunkLoadError",f.type=r,f.request=a,n[1](f)}o[e]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var f=0;f<s.length;f++)t(s[f]);var d=l;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1925:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n("b775"),a=function(e){return Object(r["a"])({url:"/v1_0/suggestion",params:{q:e}})},o=function(e,t){return Object(r["a"])({url:"/v1_0/search",params:{q:e,page:t}})}},"309a":function(e,t,n){},"3b3e":function(e,t,n){"use strict";n("55ef")},4360:function(e,t,n){"use strict";var r=n("1da1"),a=(n("96cf"),n("2b0e")),o=n("2f62"),u=n("c24f"),c=(n("b0c0"),n("a9e3"),{namespaced:!0,state:{userInfo:{}},mutations:{setUserInfo:function(e,t){e.userInfo=t},setUserName:function(e,t){e.userInfo.name=t},setUserPhoto:function(e,t){e.userInfo.photo=t},setUserGender:function(e,t){e.userInfo.gender=Number(t)},setUserBirthday:function(e,t){e.userInfo.birthday=t}},actions:{getProfile:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["b"])();case 3:n=t.sent,e.commit("setUserInfo",n.data.data),t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](0),new Error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},updataUserName:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=1,t){n.next=6;break}return n.abrupt("return");case 6:if(!t.name){n.next=12;break}return n.next=9,Object(u["f"])(t);case 9:e.commit("setUserName",t.name),n.next=24;break;case 12:if(!t.gender){n.next=19;break}return n.next=16,Object(u["f"])(t);case 16:e.commit("setUserGender",t.gender),n.next=24;break;case 19:if(!t.birthday){n.next=24;break}return n.next=23,Object(u["f"])(t);case 23:e.commit("setUserBirthday",t.birthday);case 24:n.next=30;break;case 26:throw n.prev=26,n.t0=n["catch"](1),new Error(n.t0);case 30:case"end":return n.stop()}}),n,null,[[1,26]])})))()}}}),i="my-token",s=function(e){localStorage.setItem(i,JSON.stringify(e))},l=function(){return JSON.parse(localStorage.getItem(i))};a["a"].use(o["a"]);t["a"]=new o["a"].Store({state:{tokenInfor:l()||{}},mutations:{setToken:function(e,t){e.tokenInfor=t,s(t)}},actions:{userLogin:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(u["d"])(t);case 3:r=n.sent,e.commit("setToken",r.data.data),s(r.data.data),n.next=12;break;case 8:throw n.prev=8,n.t0=n["catch"](0),new Error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})))()}},modules:{user:c},getters:{isLogin:function(e){return Boolean(e.tokenInfor.token)}}})},"55ef":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("keep-alive",{attrs:{include:"layout",exclude:"UserIndex"}},[n("router-view")],1)],1)},o=[],u=n("1da1"),c=(n("96cf"),n("b0c0"),n("6dfa")),i={data:function(){return{}},methods:{btn:function(){return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c["c"])();case 3:e.sent,e.next=12;break;case 7:if(e.prev=7,e.t0=e["catch"](0),"Error"!==e.t0.name){e.next=11;break}return e.abrupt("return",void 0);case 11:case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},s=i,l=(n("8333"),n("2877")),f=Object(l["a"])(s,a,o,!1,null,"5b140d68",null),d=f.exports,h=(n("caad"),n("4360")),p=n("a18c"),b=["/setting","/abc"];p["a"].beforeEach((function(e,t,n){b.includes(e.path)?h["a"].state.tokenInfor.token?n():n("/login?backto="+encodeURIComponent(e.fullPath)):"/login"===e.path&&h["a"].state.tokenInfor.token?n("/"):n()}));var m=p["a"],v=n("b650"),g=n("ac28"),k=n("2ed4"),y=n("772a"),w=n("565f"),j=n("6b41"),x=n("d399"),O=n("5e46"),_=n("0b33"),S=n("2bdd"),P=n("343b"),I=n("34e9"),E=n("7744"),R=n("ad06"),T=n("2830"),C=n("21ab"),$=n("e41f"),U=n("d1e1"),L=n("9ffb"),A=n("a3e2"),N=n("44bf"),H=n("58e6"),M=n("ab2c"),q=n("9ed2"),B=n("543e"),D=n("d961"),J=n("2241"),G=n("ee83");r["a"].use(v["a"]),r["a"].use(g["a"]),r["a"].use(k["a"]),r["a"].use(y["a"]),r["a"].use(w["a"]),r["a"].use(j["a"]),r["a"].use(x["a"]),r["a"].use(O["a"]),r["a"].use(_["a"]),r["a"].use(S["a"]),r["a"].use(P["a"]),r["a"].use(I["a"]),r["a"].use(E["a"]),r["a"].use(R["a"]),r["a"].use(T["a"]),r["a"].use(C["a"]),r["a"].use($["a"]),r["a"].use(U["a"]),r["a"].use(L["a"]),r["a"].use(A["a"]),r["a"].use(N["a"]),r["a"].use(H["a"]),r["a"].use(M["a"]),r["a"].use(q["a"]),r["a"].use(B["a"]),r["a"].use(D["a"]),r["a"].use(J["a"]),r["a"].use(G["a"]);n("157a"),n("5cfb"),n("a4b1"),n("4de4");var z=function(e){var t=new Date(e),n=Date.now()-t.getTime(),r=Math.floor(n/31536e6);if(r)return"".concat(r,"年前");var a=Math.floor(n/2592e6);if(a)return"".concat(a,"月前");var o=Math.floor(n/864e5);if(o)return"".concat(o,"天前");var u=Math.floor(n/36e5);if(u)return"".concat(u,"小时前");var c=Math.floor(n/6e4);return c?"".concat(c,"分钟前"):"刚才"},F={install:function(e){e.filter("relativeTime",z)}};r["a"].use(F),r["a"].config.productionTip=!1,new r["a"]({router:m,store:h["a"],render:function(e){return e(d)}}).$mount("#app")},"6dfa":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return c}));var r=n("b775"),a=function(){return Object(r["a"])({url:"v1_0/user/channels"})},o=function(e){return Object(r["a"])({url:"v1_0/user/channels",method:"PATCH",data:{channels:e}})},u=function(e){return Object(r["a"])({url:"/v1_0/user/channels/".concat(e),method:"DELETE"})},c=function(){return Object(r["a"])({url:"v1_0/channels"})}},8333:function(e,t,n){"use strict";n("309a")},a18c:function(e,t,n){"use strict";n("d3b7"),n("3ca3"),n("ddb0");var r=n("2b0e"),a=n("8c4f"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-nav-bar",{attrs:{title:"登录"}}),n("van-form",{attrs:{"validate-first":""},on:{submit:e.onSubmit,onFailed:e.onFailed}},[n("van-field",{attrs:{name:"用户名",label:"用户名",placeholder:"用户名",rules:[{pattern:/^1\d{10}$/,message:"请填写用户名",trigger:"onChange"}],"validate-trigger":"onChange"},model:{value:e.user.mobile,callback:function(t){e.$set(e.user,"mobile","string"===typeof t?t.trim():t)},expression:"user.mobile"}}),n("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{pattern:/^\d{6}$/,message:"请填写密码",trigger:"onChange"}]},model:{value:e.user.code,callback:function(t){e.$set(e.user,"code","string"===typeof t?t.trim():t)},expression:"user.code"}}),n("div",{staticClass:"btn-wrap",staticStyle:{margin:"16px"}},[n("van-button",{staticClass:"van-button",attrs:{block:"",type:"info","native-type":"submit"}},[e._v("提交")])],1)],1)],1)},u=[],c=n("1da1"),i=n("5530"),s=(n("96cf"),n("2f62")),l={name:"login",data:function(){return{user:{mobile:"15510847465",code:"246810"},pattern:/^1\d{10}$/}},methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(s["b"])(["userLogin"])),Object(s["b"])("user",["getProfile"])),{},{onSubmit:function(){this.doLogin()},onFailed:function(){},doLogin:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$toast({duration:0,overlay:!0,message:"加载中..."}),t.prev=1,t.next=4,e.userLogin(e.user);case 4:return t.next=6,e.getProfile();case 6:e.$router.push(e.$route.query.backto||"/"),e.$toast.success("成功"),t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](1),e.$toast.fail("验证码错误");case 15:case"end":return t.stop()}}),t,null,[[1,10]])})))()}})},f=l,d=(n("edee"),n("2877")),h=Object(d["a"])(f,o,u,!1,null,"2dfc1234",null),p=h.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-nav-bar",{attrs:{title:"搜索中心","left-arrow":""},on:{"click-left":function(t){return e.$router.back()}}}),n("van-search",{attrs:{"show-action":"",placeholder:"请输入搜索关键词"},on:{input:e.hInput},model:{value:e.keyword,callback:function(t){e.keyword="string"===typeof t?t.trim():t},expression:"keyword"}},[n("div",{attrs:{slot:"action"},on:{click:e.hSearch},slot:"action"},[e._v("搜索")])]),n("van-cell-group",e._l(e.newList,(function(t,r){return n("van-cell",{key:r,attrs:{icon:"search"},on:{click:function(t){return e.HClickSuggestion(r)}}},[n("div",{domProps:{innerHTML:e._s(t)}})])})),1),n("van-cell-group",[n("van-cell",{attrs:{title:"历史记录"}}),e._l(e.history,(function(t,r){return n("van-cell",{key:r,attrs:{title:t},on:{click:function(n){return e.$router.push("/search/result?keyword="+t)}}},[n("van-icon",{attrs:{name:"close"},on:{click:function(t){return t.stopPropagation(),e.delHistory(r)}}})],1)}))],2)],1)},m=[],v=(n("4d63"),n("ac1f"),n("25f0"),n("d81d"),n("5319"),n("c740"),n("a434"),n("1925")),g="my-history",k=function(e){localStorage.setItem(g,JSON.stringify(e))},y=function(){return JSON.parse(localStorage.getItem(g))},w=n("53ca"),j=(n("a4d3"),n("e01a"),"[object Symbol]");function x(e){return"object"===Object(w["a"])(e)&&null!==e}function O(e){return"symbol"===Object(w["a"])(e)||x(e)&&Object.prototype.toString.call(e)===j}function _(e,t){var n=-1,r=null==e?0:e.length,a=Array(r);while(++n<r)a[n]=t(e[n],n,e);return a}function S(e){if("string"===typeof e)return e;if(Array.isArray(e))return _(e,S)+"";if(O(e))return Symbol.prototype.toString?Symbol.prototype.toString.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function P(e){return null==e?"":S(e)}var I=P,E=/[\\^$.*+?()[\]{}|]/g,R=new RegExp(E.source);function T(e){return e=I(e),e&&R.test(e)?e.replace(E,"\\$&"):e}var C=T,$={name:"Search",data:function(){return{keyword:"",list:[],history:[],timer:null,td:0}},computed:{newList:function(){var e=this,t=new RegExp(C(this.keyword),"gi");return this.list.map((function(n){return n.replace(t,'<i style="color:red">'.concat(e.keyword,"</i>"))}))}},created:function(){this.history=y()},methods:{hInput:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=new Date,n-e.td>500&&(e.doAjax(),e.td=n);case 2:case"end":return t.stop()}}),t)})))()},doAjax:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.keyword){t.next=3;break}return e.list=[],t.abrupt("return");case 3:return t.prev=3,t.next=6,Object(v["b"])(e.keyword);case 6:n=t.sent,e.list=n.data.data.options,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))()},addHistory:function(e){var t=this.history.findIndex((function(t){return t===e}));-1!==t&&this.history.splice(t,1),this.history.unshift(e),k(this.history)},hSearch:function(){this.keyword&&(this.addHistory(this.keyword),this.$router.push("/search/result?keyword="+this.keyword))},HClickSuggestion:function(e){this.$router.push("/search/result?keyword="+this.list[e]),this.addHistory(this.list[e])},delHistory:function(e){this.history.splice(e,1),k(this.history)}}},U=$,L=(n("3b3e"),Object(d["a"])(U,b,m,!1,null,"cbccedd2",null)),A=L.exports;r["a"].use(a["a"]);var N=[{path:"/",component:function(){return n.e("about").then(n.bind(null,"93f9"))},children:[{path:"",name:"name",component:function(){return n.e("chunk-2b2a6d97").then(n.bind(null,"77b8"))}},{path:"question",name:"question",component:function(){return n.e("chunk-2d0b33fa").then(n.bind(null,"2820"))}},{path:"setting",name:"setting",component:function(){return n.e("chunk-7d2ad950").then(n.bind(null,"e0df"))}},{path:"video",name:"video",component:function(){return n.e("chunk-553792f6").then(n.bind(null,"85bc"))}}]},{path:"/login",name:"login",component:p},{path:"/search",name:"search",component:A},{path:"/search/result",name:"result",component:function(){return n.e("result").then(n.bind(null,"f799"))}},{path:"/article/:id",name:"article",component:function(){return n.e("article").then(n.bind(null,"f2b4"))}},{path:"/setting/profile",name:"article",component:function(){return n.e("profile").then(n.bind(null,"c757"))}},{path:"/chat",name:"chat",component:function(){return n.e("chat").then(n.bind(null,"eb81"))}}],H=new a["a"]({routes:N}),M=a["a"].prototype.push;a["a"].prototype.push=function(e,t,n){return t||n?M.call(this,e,t,n):M.call(this,e).catch((function(e){return e}))};t["a"]=H},a4b1:function(e,t,n){},b775:function(e,t,n){"use strict";var r=n("1da1"),a=(n("96cf"),n("d3b7"),n("bc3a")),o=n.n(a),u=n("a18c"),c=n("4360"),i=o.a.create({baseURL:"http://localhost:8000"});i.interceptors.request.use((function(e){var t=c["a"].state.tokenInfor.token;return e.headers.Authorization="Bearer ".concat(t),e}),(function(e){return Promise.reject(e)})),i.interceptors.response.use((function(e){return e}),function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=c["a"].state.tokenInfor.refresh_token,401!==t.response.status){e.next=30;break}if(!n){e.next=25;break}return e.prev=6,e.next=9,o()({url:"http://localhost:8000/v1_0/authorizations",method:"PUT",headers:{Authorization:"Bearer ".concat(n)}});case 9:return r=e.sent,c["a"].commit("setToken",{refresh_token:n,token:r.data.data.token}),e.abrupt("return",i(t.config));case 16:return e.prev=16,e.t0=e["catch"](6),c["a"].commit("setToken",{}),u["a"].push("/login?backto="+encodeURIComponent(u["a"].currentRoute.fullPath)),e.abrupt("return",Promise.reject(t));case 23:e.next=30;break;case 25:return c["a"].commit("setToken",{}),u["a"].push("/login?backto="+encodeURIComponent(u["a"].currentRoute.fullPath)),e.abrupt("return",Promise.reject(t));case 30:return e.abrupt("return",Promise.reject(t));case 31:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}());o.a.create({baseURL:"http://toutiao-app.itheima2.net2"});t["a"]=i},c24f:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return l}));var r=n("5530"),a=n("b775"),o=function(e){return Object(a["a"])({url:"/v1_0/authorizations",method:"POST",data:Object(r["a"])({},e)})},u=function(){return Object(a["a"])({url:"/v1_0/user/profile",method:"GET"})},c=function(){return Object(a["a"])({url:"/v1_0/user/followings",method:"GET"})},i=function(){return Object(a["a"])({url:"/v1_0/user/",method:"GET"})},s=function(e){return Object(a["a"])({method:"PATCH",url:"v1_0/user/profile",data:e})},l=function(e){return Object(a["a"])({url:"/v1_0/user/photo",method:"PATCH",data:e})}},c646:function(e,t,n){},edee:function(e,t,n){"use strict";n("c646")}});
//# sourceMappingURL=app.a8b0c688.js.map